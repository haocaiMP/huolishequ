<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>register</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="../../static/css/register.css">
	<link rel="stylesheet" href="../../static/css/top.css">
</head>
<body>
	<ul class="top">
		<li id="back"></li>
		<li><b style="color: red">注册</b></li>
		<li style="font-size: 10pt" id="login">登录</li>
	</ul>

	<div class="container">
		<div class="content">
			<div><span>账号:</span> <input id="txt1" type="text" placeholder="请输入您的手机号"></div>
			<div>
				<span>验证码: </span>
				<input id="txt2" type="text" placeholder="请输入验证码">
				<button id="btn_code" data-loading="{d}秒后重新请求" data-time="5">获取验证码</button>
			</div>
			<div><span>密码:</span> <input id="pwd1" type="password" placeholder="请输入您的登录密码"></div>
			<div><span>密码: </span><input id="pwd2" type="password" placeholder="请输入您的登录密码"></div>
			<div style="position: relative">
				<span>身份:</span>
				<input id="txt3" type="text" placeholder="经纪人">
				<img src="../../static/img/nav_back_icon@2x.png" id="img">
				<div class="menu">
					<ul>
						<li id="broker">经纪人</li>
						<li id="sublessor">小业主</li>
						<li id="operator">运营商</li>
						<li id="agent">代理商</li>
						<li id="developer">开发商</li>
					</ul>
				</div>
			</div>
		</div>
		

		<div id="btn">注册</div>
		<div class="foot">注册即代表同意 <a href="#">《活力社区用户协议》</a></div>
		<div class="all">
			<div class="all-content">
				<div class="all-con-top">注册成功，等待确认</div>
				<div class="all-con-bottom">确定</div>
			</div>
		</div>
	</div>
</body>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script src="../../static/js/back.js"></script>
<script>
$('#btn_code' ).click(function(){
	var txt = $(this ).text();
	//console.log( txt );
	var data = $(this ).attr('data-loading');
//	console.log( data );
	$(this ).css("background","#ccc" ).attr('disabled',"disabled");
	var time = $(this ).attr('data-time')-0;
	var flag = 0;

	timerHandler();
	var timer = setInterval(timerHandler,1000);
	function timerHandler()
	{

		if( flag > time )
		{
			//最后一次
			$('#btn_code' ).removeAttr("disabled" ).text(txt).css("background","red" );
			clearInterval( timer );
		}
		else
		{
			var cur = time - flag;
			$('#btn_code' ).text(data.replace( "{d}", cur )) ;
		}
		flag++;
	}
});
$('#img' ).bind({
//	"click":function()
//	{
//		$( '.menu' ).toggle();
//	},
	"click":function(){
		if($('.menu' ).css("display") == "block"){
			$(this ).css('transform',"rotate(-90deg)");

		}else{
			$(this ).css('transform',"rotate(90deg)");
		}
		$('.menu' ).toggle();
	}
});
$("#btn" ).click(function(){
	var t = $('#txt3' ).val();
//	console.log( t );
	switch(t){
		case '经纪人':
			window.location.href = 'broker.html';
			break;
		case '小业主':
			window.location.href = 'sublessor.html';
			break;
		case '代理商':
			window.location.href = 'agent.html';
			break;
		case '运营商':
			window.location.href = 'operator.html';
			break;
		case '开发商':
			window.location.href = 'developer.html';
			break;
		default:
			$(this ).attr('disabled','true');
	}
});
$(".all-con-bottom" ).click(function(){
	window.location.href = 'login.html';
});
$("#login" ).click(function(){
	window.location.href = "login.html";
});
$("#agent" ).click(function(){
	var text = $(this ).text();
	$('#txt3' ).attr('value',text);
});
$("#developer" ).click(function(){
	var text = $(this ).text();
	$('#txt3' ).attr('value',text);
});
$("#operator " ).click(function(){
	var text = $(this ).text();
	$('#txt3' ).attr('value',text);
});
$("#broker" ).click(function(){
	var text = $(this ).text();
	$('#txt3' ).attr('value',text);
});
$("#sublessor" ).click(function(){
	var text = $(this ).text();
	$('#txt3' ).attr('value',text);
});
</script>
</html>